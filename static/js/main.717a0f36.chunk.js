(this["webpackJsonparcanum-catalogue"]=this["webpackJsonparcanum-catalogue"]||[]).push([[0],{150:function(e,t,a){e.exports={FullScreenContainer:"App_FullScreenContainer__BZzJB",contentContainer:"App_contentContainer__1vCJO",closeSnackBtn:"App_closeSnackBtn__3oYuF",messagePortal:"App_messagePortal__2mEOo"}},175:function(e,t,a){e.exports={productPreview:"Admin_productPreview__2jMRH",createBtn:"Admin_createBtn__16YYF"}},23:function(e,t,a){e.exports={rowContainer:"CheckoutProduct_rowContainer__2oo0i",productContainer:"CheckoutProduct_productContainer__1uadX",quantityContainer:"CheckoutProduct_quantityContainer__3VXdu",priceContainer:"CheckoutProduct_priceContainer__1LDjJ",imageContainer:"CheckoutProduct_imageContainer__1I3jl",deleteBtnContainer:"CheckoutProduct_deleteBtnContainer__2BHuC",productName:"CheckoutProduct_productName__3A92h",productType:"CheckoutProduct_productType__1otUn",btn:"CheckoutProduct_btn__2VQsv",btnsContainer:"CheckoutProduct_btnsContainer__2Xdls",quantity:"CheckoutProduct_quantity__23JhY",innerContainer:"CheckoutProduct_innerContainer__1hk0K",deleteIcon:"CheckoutProduct_deleteIcon__1Wyqy",deleteBtn:"CheckoutProduct_deleteBtn__2tpW7"}},254:function(e,t,a){e.exports=a.p+"static/media/logo.a8420689.png"},277:function(e,t,a){e.exports=a(417)},282:function(e,t,a){},41:function(e,t,a){e.exports={buttonFlex:"Checkout_buttonFlex__2EKfB",checkoutContainer:"Checkout_checkoutContainer__1aM8O",subtotalContainer:"Checkout_subtotalContainer__2vOMr",innerContainer:"Checkout_innerContainer__2OPlj",subtotal:"Checkout_subtotal__FenN5",totalPrice:"Checkout_totalPrice__1emSE",buyBtn:"Checkout_buyBtn__35wzz",icon:"Checkout_icon__II37h",backArrow:"Checkout_backArrow__1Mytx",backBtn:"Checkout_backBtn__1EQgo",buyContainer:"Checkout_buyContainer__1-j5z"}},417:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(14),r=a.n(o),i=(a(282),a(150)),l=a.n(i),u=a(467),s=a(51),d=Object(s.a)(),m=a(456),p=Object(m.a)((function(e){return{root:{flexGrow:1},gridItem:{display:"flex",justifyContent:"space-around"}}})),f=Object(m.a)((function(e){return{root:{width:"90%",display:"flex",flexDirection:"column"},media:{height:175},cardActions:{display:"flex",justifyContent:"space-around",marginTop:"auto"},buyIcon:{fontSize:e.spacing(4),color:e.palette.primary.main}}})),b=a(458),g=a(462),C=a(460),h=a(459),E=a(461),y=a(463),k=function(e){var t=e.product,a=e.onClickAddProduct,n=f();return c.a.createElement(b.a,{className:n.root},c.a.createElement(h.a,{className:n.media,image:t.imageUrl,title:"Contemplative Reptile"}),c.a.createElement(C.a,null,c.a.createElement(E.a,{variant:"h5",align:"center",component:"h1"},t.name),c.a.createElement(E.a,{variant:"subtitle1",component:"p",align:"center",color:"textSecondary"},t.subtitle),c.a.createElement(E.a,{variant:"body1",component:"p"},t.description),c.a.createElement(E.a,{variant:"caption",component:"p",color:"textSecondary"},t.aditionalInfo)),c.a.createElement(g.a,{className:n.cardActions},c.a.createElement(E.a,{variant:"h6",component:"p"},"COP ".concat(t.price.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1."))),c.a.createElement(y.a,{onClick:a},c.a.createElement("i",{className:"".concat(n.buyIcon," las la-cart-plus")}))))},v=a(464),_=a(105),P=c.a.memo((function(e){var t=e.onAddProduct,a=e.checkoutProducts,o=e.onGetProducts,r=e.products,i=p(),l=Object(_.b)().enqueueSnackbar;Object(n.useEffect)((function(){o()}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:i.root},c.a.createElement(v.a,{container:!0,spacing:3},r.map((function(e){return c.a.createElement(v.a,{className:i.gridItem,item:!0,xs:12,sm:6,md:4,lg:3,xl:2,key:e.id},c.a.createElement(k,{product:e,onClickAddProduct:function(){var n;n=e.id,a.filter((function(e){return e.id===n})).length?l("Este producto ya fue agregado",{variant:"warning"}):(t(e),l("Producto agregado correctamente",{variant:"success"}))}}))})))))})),j=a(64),O=a(42),N=Object(O.b)({name:"general",initialState:{isLoading:!1},reducers:{setIsLoading:function(e,t){e.isLoading=t.payload}}}),I=a(25),w=a(148),S=Object(O.b)({name:"checkout",initialState:{checkoutProducts:[],itemWasAdded:!1},reducers:{addProduct:function(e,t){e.checkoutProducts=[].concat(Object(w.a)(e.checkoutProducts),[{id:t.payload.id,imageUrl:t.payload.imageUrl,name:t.payload.name,subtitle:t.payload.subtitle,price:t.payload.price,quantity:1}])},deleteProduct:function(e,t){e.checkoutProducts=e.checkoutProducts.filter((function(e){return e.id!=t.payload}))},substractQuantityProduct:function(e,t){e.checkoutProducts=e.checkoutProducts.map((function(e){return e.id==t.payload?Object(I.a)(Object(I.a)({},e),{},{quantity:e.quantity-1}):e}))},addQuantityProduct:function(e,t){e.checkoutProducts=e.checkoutProducts.map((function(e){return e.id==t.payload?Object(I.a)(Object(I.a)({},e),{},{quantity:e.quantity+1}):e}))}}}),B=Object(O.b)({name:"admin",initialState:{products:[]},reducers:{getProducts:function(e,t){},getProductsSuccess:function(e,t){e.products=t.payload}}}),A=N.actions.setIsLoading,x=B.actions.getProducts,U=S.actions.addProduct,q={onGetProducts:function(){return x()},onSetIsLoading:function(e){return A(e)},onAddProduct:function(e){return U(e)}},L=Object(j.b)((function(e){return{isLoading:e.general.isLoading,products:e.catalogue.products,checkoutProducts:e.checkout.checkoutProducts}}),q)(P),D=a(136),R=a(183),F=a(175),z=a.n(F),T=a(138),M=a.n(T),Q=(a(418),a(30)),G="",J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return M.a.storage().ref("products/".concat(e).concat(t?"/"+t:""))},W=function(e,t,a,n){var c=G?J(e,G.name).put(G):"";c&&c.on("state_changed",(function(e){return n?n(e.bytesTransferred/e.totalBytes*100):null}),(function(e){return a?a(e):function(e){return console.log(e)}}),(function(){t(function(e,t){return Object(Q.a)(J(e).child(t).getDownloadURL())}(e,G.name)),G=""}))},H=a(473),K=a(465),Y=a(253),V=a(475),X=[{key:"d",text:"Dados",value:"dices"},{key:"t",text:"Juegos de Mesa",value:"tabletopGames"},{key:"a",text:"Accesorios",value:"accesories"}],$=function(e){var t,a=e.onSetProductInfo,o=c.a.createRef(),r={name:"",category:"",subtitle:"",description:"",aditionalInfo:"",price:"",inventory:"",imageUrl:""};Object(n.useEffect)((function(){return s(""),function(){t&&t.unsubscribe()}}),[]);var i=Object(n.useState)(""),l=Object(R.a)(i,2),u=l[0],s=l[1],d=Object(n.useState)(r),m=Object(R.a)(d,2),p=m[0],f=m[1],b=function(e){t&&t.unsubscribe(),t=e.subscribe((function(e){a(Object(I.a)(Object(I.a)({},p),{},{imageUrl:e})),s(""),f(r)}))},g=function(e){console.log("Progress",e)},C=function(e){console.log("ERROR",e)},h=function(e,t){var a=t.name,n=t.value;console.log(a,n),f(Object(I.a)(Object(I.a)({},p),{},Object(D.a)({},a,n)))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(H.a,null,c.a.createElement(H.a.Group,{unstackable:!0,widths:3},c.a.createElement(H.a.Input,{label:"Nombre",name:"name",autoComplete:"off",placeholder:"Nombre",value:p.name,onChange:h}),c.a.createElement(H.a.Field,{name:"category",control:K.a,options:X,label:{children:"Category",htmlFor:"form-select-control-category"},placeholder:"Categoria",search:!0,searchInput:{id:"form-select-control-category"},onChange:h}),c.a.createElement(H.a.Input,{label:"Subtitulo",name:"subtitle",autoComplete:"off",placeholder:"Subtitulo",value:p.subtitle,onChange:h})),c.a.createElement(Y.a,{unstackable:!0,widths:2},c.a.createElement(H.a.Input,{label:"Descripcion",name:"description",autoComplete:"off",placeholder:"Descripcion",value:p.description,onChange:h}),c.a.createElement(H.a.Input,{label:"Informacion Adicional",name:"aditionalInfo",autoComplete:"off",placeholder:"Informacion Adicional",value:p.aditionalInfo,onChange:h})),c.a.createElement(Y.a,{unstackable:!0,widths:2},c.a.createElement(H.a.Input,{label:"Precio",name:"price",autoComplete:"off",placeholder:"Precio",value:p.price,onChange:function(e,t){isNaN(t.value)||h(0,t)}}),c.a.createElement(H.a.Input,{label:"Cantidad en Inventario",name:"inventory",autoComplete:"off",placeholder:"Cantidad en inventario",value:p.inventory,onChange:function(e,t){isNaN(t.value)||h(0,t)}})),c.a.createElement("input",{ref:o,type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files[0];G=t;var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){console.log(a.result),s(a.result)}}}),c.a.createElement(V.a,{type:"button",content:"Seleccionar Imagen",labelPosition:"left",icon:"file",onClick:function(){return o.current.click()}})),c.a.createElement("div",{className:z.a.productPreview},c.a.createElement("h1",null,"Preview"),c.a.createElement(k,{product:{name:p.name||"Nombre",category:p.category||"Categoria",subtitle:p.subtitle||"Subtitulo",description:p.description||"Descripcion",aditionalInfo:p.aditionalInfo||"Informacion Adicional",price:p.price||"0000",inventory:p.inventory||0,imageUrl:u||"https://plchldr.co/i/850x667"},key:p.name+Math.random()}),c.a.createElement(V.a,{className:z.a.createBtn,type:"button",onClick:function(){W(p.category,b,C,g)}},"Crear Producto")))},Z=Object(O.b)({name:"admin",initialState:{product:{name:"",category:"",subtitle:"",description:"",aditionalInfo:"",price:"",inventory:0,imageUrl:""}},reducers:{setProductInfo:function(e,t){e.product=t.payload}}}),ee=Z.actions.setProductInfo,te={onSetProductInfo:function(e){return ee(e)}},ae=Object(j.b)((function(e){return{}}),te)($),ne=a(466),ce=a(41),oe=a.n(ce),re=a(477),ie=a(259),le=a(23),ue=a.n(le),se=function(e){var t=e.product,a=e.onClickDelete,n=e.onClickAdd,o=e.onClickSubstract;return c.a.createElement("div",{className:ue.a.rowContainer},c.a.createElement(re.a,{raised:!0,className:ue.a.productContainer},c.a.createElement("div",{className:ue.a.innerContainer},c.a.createElement("div",{className:ue.a.imageContainer},c.a.createElement(ie.a,{src:t.imageUrl,size:"small"})),c.a.createElement("div",null,c.a.createElement("p",{className:ue.a.productName},t.name),c.a.createElement("p",{className:ue.a.productType},t.subtitle))),c.a.createElement("div",{className:ue.a.innerContainer},c.a.createElement("div",{className:ue.a.quantityContainer},c.a.createElement("div",{className:ue.a.quantity},t.quantity),c.a.createElement("div",{className:ue.a.btnsContainer},c.a.createElement(V.a,{icon:!0,className:ue.a.btn,onClick:function(){n(t.id)}},c.a.createElement("i",{className:"las la-plus"})),c.a.createElement(V.a,{icon:!0,className:ue.a.btn,onClick:function(){o(t.id)}},c.a.createElement("i",{className:"las la-minus"})))),c.a.createElement("div",{className:ue.a.priceContainer},"COP ".concat(t.price.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1."))))),c.a.createElement("div",{className:ue.a.deleteBtnContainer},c.a.createElement(V.a,{icon:!0,className:ue.a.deleteBtn,onClick:function(){a(t.id)}},c.a.createElement("i",{className:"las la-trash-alt ".concat(ue.a.deleteIcon)}))))},de=function(){d.push("/arcanum-catalogue/catalogue")},me=function(e){var t=e.products,a=e.onDeleteProduct,n=e.onAddQuantity,o=e.onSubstractQuantity;return c.a.createElement(c.a.Fragment,null,c.a.createElement(V.a,{className:oe.a.backBtn,onClick:de},c.a.createElement("i",{className:"las la-arrow-left ".concat(oe.a.backArrow," ").concat(oe.a.icon)}),"Regresar"),t.map((function(e){return c.a.createElement(se,{key:e.id,product:e,onClickDelete:function(e){return a(e)},onClickAdd:function(e){return n(e)},onClickSubstract:function(e){return o(e)}})})),c.a.createElement("div",{className:oe.a.subtotalContainer},c.a.createElement("div",{className:oe.a.innerContainer},c.a.createElement("span",{className:oe.a.subtotal},"SUBTOTAL")),c.a.createElement("div",{className:oe.a.innerContainer},c.a.createElement("span",{className:oe.a.totalPrice},t.reduce((function(e,t){return e+parseInt(t.price)}),0)))),c.a.createElement(ne.a,null),c.a.createElement("div",{className:oe.a.buyContainer},c.a.createElement(V.a,{className:oe.a.buyBtn},c.a.createElement("i",{className:"lab la-whatsapp ".concat(oe.a.icon)}),"Pedir por whatsapp")))},pe=S.actions,fe=pe.deleteProduct,be=pe.addQuantityProduct,ge=pe.substractQuantityProduct,Ce={onDeleteProduct:function(e){return fe(e)},onAddQuantity:function(e){return be(e)},onSubstractQuantity:function(e){return ge(e)}},he=Object(j.b)((function(e){return{products:e.checkout.checkoutProducts}}),Ce)(me),Ee=function(){return c.a.createElement(u.a,{to:"/arcanum-catalogue/catalogue"})},ye=function(){return c.a.createElement(u.c,{history:d},c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/arcanum-catalogue",exact:!0,component:Ee}),c.a.createElement(u.b,{path:"/arcanum-catalogue/catalogue",exact:!0,component:L}),c.a.createElement(u.b,{path:"/arcanum-catalogue/checkout",exact:!0,component:he}),c.a.createElement(u.b,{path:"/arcanum-catalogue/admin",exact:!0,component:ae}),c.a.createElement(u.b,{component:function(){return c.a.createElement(u.a,{to:"/arcanum-catalogue"})}})))},ke=Object(m.a)((function(e){return{headerContainer:{width:"100%",height:85,backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,zIndex:50},icon:{fontSize:45},logoContainer:{marginLeft:e.spacing(6)},buttonsContainer:{marginRight:e.spacing(6)},shopButton:{background:"black",color:"white"}}})),ve=a(468),_e=a(254),Pe=a.n(_e),je=function(){d.push("/arcanum-catalogue/checkout")},Oe=function(){d.push("/arcanum-catalogue/admin")},Ne=function(){var e=ke();return c.a.createElement("div",{className:e.headerContainer},c.a.createElement("div",{className:e.logoContainer},c.a.createElement("img",{src:Pe.a})),c.a.createElement("div",{className:e.buttonsContainer},c.a.createElement(ve.a,{className:e.shopButton,onClick:Oe},"Go to Admin Temp"),c.a.createElement(ve.a,{className:e.shopButton,onClick:je},c.a.createElement("i",{className:"las la-shopping-cart ".concat(e.icon)}))))},Ie=Object(m.a)((function(e){return{footerContainer:{width:"100%",height:85,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#f6f5fa",marginTop:"auto"},followUsContainer:{alignItems:"center",display:"flex",marginLeft:e.spacing(6)},followUsBtnContainer:{display:"flex",width:95,justifyContent:"space-evenly"},aditonalInfoContainer:{marginRight:e.spacing(6)},socialMediaBtn:{color:"white",fontSize:25,minWidth:30,padding:e.spacing(1)},fbBtnColor:{backgroundColor:"#3b5998","&:hover":{backgroundColor:"#2D4373"}},instaBtnColor:{backgroundColor:"#833ab4","&:hover":{backgroundColor:"#672E8D"}}}})),we=function(){var e=Ie();return c.a.createElement("div",{className:e.footerContainer},c.a.createElement("div",{className:e.followUsContainer},c.a.createElement("div",null,"Siguenos:"),c.a.createElement("div",{className:e.followUsBtnContainer},c.a.createElement(y.a,{className:"".concat(e.socialMediaBtn," ").concat(e.fbBtnColor)},c.a.createElement("i",{className:"lab la-facebook-square"})),c.a.createElement(y.a,{className:"".concat(e.socialMediaBtn," ").concat(e.instaBtnColor)},c.a.createElement("i",{className:"lab la-instagram"})))),c.a.createElement("div",{className:e.aditonalInfoContainer},c.a.createElement("p",null,"Made with ",c.a.createElement("i",{className:"las la-heart"})),c.a.createElement("p",null,"Esta web todavia se encuentra en desarrollo")))},Se=a(258),Be={palette:{primary:{main:"#8A2BE2"},secondary:{main:"#03DAC5"}},spacing:function(e){return"".concat(.5*e,"rem")}},Ae=a(469),xe=function(){var e=Object(Se.a)(Be),t=c.a.createRef(),a=function(e){return function(){t.current.closeSnackbar(e)}};return c.a.createElement(_.a,{ref:t,action:function(e){return c.a.createElement(y.a,{onClick:a(e)},c.a.createElement("i",{className:"".concat(l.a.closeSnackBtn," las la-times-circle")}))},anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:3e3},c.a.createElement(Ae.a,{theme:e},c.a.createElement("div",{className:l.a.FullScreenContainer},c.a.createElement(Ne,null),c.a.createElement("div",{className:l.a.contentContainer},c.a.createElement(ye,null)),c.a.createElement(we,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ue=a(474),qe=a(34),Le=Object(qe.c)({general:N.reducer,admin:Z.reducer,catalogue:B.reducer,checkout:S.reducer}),De=a(472),Re=a(257),Fe=a(470),ze=a(31),Te=a(471),Me=a(182),Qe=a.n(Me),Ge="https://arcanum-catalogue.firebaseio.com/";Qe.a.interceptors.request.use((function(e){return"get"===e.method&&(e.params=Object(I.a)({},e.data)),e}),(function(e){return Promise.reject(e)}));var Je=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Qe.a.request(Object(I.a)({baseURL:Ge,url:e,method:t,data:a,headers:{"Content-Type":"application/json"}},n))},We=a(234),He=a(86),Ke=Z.actions.setProductInfo,Ye=N.actions,Ve=Ye.setIsLoading,Xe=Ye.setError,$e=B.actions,Ze=$e.getProducts,et=$e.getProductsSuccess,tt=N.actions,at=tt.setIsLoading,nt=tt.setError,ct=S.actions.addProduct,ot=N.actions.setIsLoading,rt=Object(De.a)((function(e,t){return e.pipe(Object(Re.a)(Ke.type),Object(Fe.a)((function(e){return Object(We.a)(Je("/products/".concat(e.payload.category,".json"),"POST",e.payload).pipe(Object(ze.a)((function(e){return console.log(e.data),Ve(!1)})),Object(Te.a)((function(e){return Object(He.a)(Xe({meesage:e.response.data.error,errorCode:e.response.status}))}))),Object(He.a)(Ve(!1)))})))}),(function(e,t){return e.pipe(Object(Re.a)(Ze.type),Object(Fe.a)((function(e){return Object(We.a)(Je("/products/dices.json","GET").pipe(Object(ze.a)((function(e){var t=e.data,a=Object.keys(t).map((function(e){return Object(I.a)(Object(I.a)({},t[e]),{},{id:e})}));return et(a)})),Object(Te.a)((function(e){return Object(He.a)(nt({meesage:e.response.data.error,errorCode:e.response.status}))}))),Object(He.a)(at(!1)))})))}),(function(e,t){return e.pipe(Object(Re.a)(ct.type),Object(Fe.a)((function(e){return console.log(t.value.checkout.itemWasAdded),Object(He.a)(ot(!1))})))})),it=Object(Ue.a)();a(416);console.log("firebase"),M.a.initializeApp({apiKey:"AIzaSyAJ5r4iSjNwCCCEyvjoq9pUPlhRGznqmfU",authDomain:"arcanum-catalogue.firebaseapp.com",databaseURL:"https://arcanum-catalogue.firebaseio.com",projectId:"arcanum-catalogue",storageBucket:"arcanum-catalogue.appspot.com",messagingSenderId:"61521143983",appId:"1:61521143983:web:2663beb5e10e5b571bcc5a",measurementId:"G-ZCKHFPJHVH"}),r.a.render(c.a.createElement(j.a,{store:function(){var e=Object(O.a)({reducer:Le,middleware:[it].concat(Object(w.a)(Object(O.c)()))});return it.run(rt),e}()},c.a.createElement(c.a.StrictMode,null,c.a.createElement(xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[277,1,2]]]);
//# sourceMappingURL=main.717a0f36.chunk.js.map